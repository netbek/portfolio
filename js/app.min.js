(function(){"use strict";var R={901:function(e,s){s.__esModule=!0,s.default=void 0;var o=/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,f=s.default=function(c){var t=o.exec(c);if(!(!t||!t.length)){var p=t[0],l=t[1],i=t[2],O=t[3],W=t[4],X=t[5],q=t[6],F=t[7],G=t[8],H=t[9],J=t[10],K=t[11],Y=t[12],Z=t[13],ee=(q||"").toLowerCase().replace(/^www\./,"");return{scheme:l,authority:i,userInfo:O,user:W,pass:X,host:q,hostNorm:ee,port:F,relative:G,path:H,directory:J,file:K,query:Y,fragment:Z}}}},155:function(e){e.exports=Expo},556:function(e){e.exports=TweenMax},669:function(e){e.exports=jQuery},826:function(e){e.exports=picturefill}},j={};function u(e){var s=j[e];if(s!==void 0)return s.exports;var o=j[e]={exports:{}};return R[e](o,o.exports,u),o.exports}var te={},T=w(u(155)),a=w(u(669)),r=w(u(556)),z=w(u(826)),C=w(u(901));function w(e){return e&&e.__esModule?e:{default:e}}var b=!0,M=!0,E=(0,C.default)(window.location.href),I=E.hostNorm,D=(0,a.default)("html"),L=(0,a.default)("body"),v=(0,a.default)(".scene"),S=v.data("scene"),d=(0,a.default)("#spinner"),h=(0,a.default)("#door-wrapper"),x=(0,a.default)("#door-cover"),m=(0,a.default)("#door-left"),_=(0,a.default)("#door-right"),n="X",y=Math.random()<.5?-25:25,$;function V(){return!!window.Expo&&!!window.jQuery&&!!window.jQuery.fn&&!!window.jQuery.fn.fitVids&&!!window.jQuery.fn.imagesLoaded&&!!window.jQuery.fn.magnificPopup&&!!window.Modernizr&&!!window.picturefill&&!!window.TweenMax}function N(e){$=setTimeout(function(){V()?e():(clearTimeout($),N(e))},1e3/60)}function A(){d.removeClass("spinner--xy spinner--yx").addClass(Math.random()<=.5?"spinner--xy":"spinner--yx")}function P(){r.default.killTweensOf(d),r.default.to(d,0,{autoAlpha:0}),r.default.to(d,.3,{autoAlpha:1})}function Q(e){r.default.killTweensOf(d),r.default.to(d,.3,{delay:.3,autoAlpha:0,onComplete:e})}function g(e){M?(r.default.killTweensOf(m),r.default.killTweensOf(_),r.default.killTweensOf(x),r.default.killTweensOf(h),D.scrollTop(0),L.scrollTop(0).css("overflow","auto"),r.default.to(m,0,{css:{transform:"skew"+n+"("+y+"deg) translate"+n+"(-49%)"}}),r.default.to(_,0,{css:{transform:"skew"+n+"("+y+"deg) translate"+n+"(49%)"}}),r.default.to(x,0,{css:{autoAlpha:0,display:"none"}}),r.default.to(m,1,{css:{transform:"skew"+n+"(0deg) translate"+n+"(-100%)"},ease:T.default.easeOut}),r.default.to(_,1,{css:{transform:"skew"+n+"(0deg) translate"+n+"(100%)"},ease:T.default.easeOut,onComplete:function(){h.hide(),e&&e()}})):(h.hide(),e&&e())}function B(e){M?(r.default.killTweensOf(m),r.default.killTweensOf(_),r.default.killTweensOf(x),r.default.killTweensOf(h),h.show(),r.default.to(m,1,{css:{transform:"skew"+n+"("+y+"deg) translate"+n+"(-49%)"},ease:T.default.easeOut}),r.default.to(_,1,{css:{transform:"skew"+n+"("+y+"deg) translate"+n+"(49%)"},ease:T.default.easeOut,onComplete:function(){(0,a.default)("header, main, footer").hide(),L.addClass("closed-page"),e&&setTimeout(e,50)}})):e&&e()}function U(){(0,a.default)("a").each(function(e,s){var o=(0,a.default)(s),f=(o.attr("href")||"").toLowerCase(),k=(o.attr("target")||"").toLowerCase();if(~f.indexOf("javascript:")||~f.indexOf("mailto:")||k&&k!=="_self")o.data("pageTransition",!1);else{var c=(0,C.default)(f),t=c.hostNorm,p=c.path;t?t===I?o.data("pageTransition",!0):o.data("pageTransition",!1).attr("target","_blank"):p===void 0||p===""?o.data("pageTransition",!1):o.data("pageTransition",!0)}o.on("click",function(l){var i=(0,a.default)(this);if(i.data("pageTransition")){l.preventDefault();var O=i.attr("href");B(function(){window.location.href=O})}})})}N(function(){U(),S==="front"?(window.Modernizr.touchevents||(0,a.default)(".project a, .project__label",v).on("mouseenter.nb focus.nb",function(){(0,a.default)(this).closest(".project-list-item").addClass("hover")}).on("mouseleave.nb blur.nb",function(){(0,a.default)(this).closest(".project-list-item").removeClass("hover")}),(0,a.default)(".project__label",v).on("click",function(){var e=(0,a.default)(this).closest(".project").find(".project__thumb a").attr("href");window.location.href=e}),b?(A(),P(),v.imagesLoaded().always(function(){Q(g)})):g()):S==="work"?((0,a.default)(".frame__svg").magnificPopup({type:"image",closeMarkup:'<button title="%title%" type="button" class="mfp-close"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon icon-ios-close"><path d="M278.6 256l68.2-68.2c6.2-6.2 6.2-16.4 0-22.6-6.2-6.2-16.4-6.2-22.6 0L256 233.4l-68.2-68.2c-6.2-6.2-16.4-6.2-22.6 0-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3l68.2 68.2-68.2 68.2c-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3 6.2 6.2 16.4 6.2 22.6 0l68.2-68.2 68.2 68.2c6.2 6.2 16.4 6.2 22.6 0 6.2-6.2 6.2-16.4 0-22.6L278.6 256z"></path></svg></button>',retina:{ratio:window.devicePixelRatio,replaceSrc:function(s,o){var f=(0,a.default)(s.el),k=f.data("mfpSrc"),c=f.data("mfpSrcset"),t=z.default._.parseSet({srcset:c}).filter(function(i){return i.d<=o}),p=t.filter(function(i){return i.d>=o}),l;return p.length?l=p[0].url:t.length?l=t[t.length-1].url:l=k,l}}}),(0,a.default)('iframe[src*="youtube"]').parent().fitVids(),b?(A(),P(),v.imagesLoaded().always(function(){Q(g)})):g()):g()})})();
